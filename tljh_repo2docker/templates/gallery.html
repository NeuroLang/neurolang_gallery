{% extends "page.html" %}

{% block title %}
Neurolang Gallery
{% endblock %}

{% block stylesheet %}
{{ super() }}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
  integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<link rel="stylesheet" href="{{ base_url }}environments-static/css/gallery.css" type="text/css" />
{% endblock %}

{% block nav_bar %}
{% endblock %}

{% block main %}
<main role="main">
  <div class="content-fluid neurolang-blue">
    <div class="container">
      <div>
        <h4 style="text-align: center">A gallery of NeuroLang dashboards</h4>
        <div style="margin: auto; max-width: 800px;">
        </div>
      </div>
    </div>
  </div>

  <div class="content-fluid neurolang-white">
    <div class="container">
      <form enctype="multipart/form-data" id="spawn_form" action="{{url}}" method="post" role="form">

        <div class="row no-gutters">
          {% for name, example in gallery.items() %}
          <div class="col-md-4" style="height: 400px; padding: 16px;">
            <div class="gallery-item">
              <div class="launch-item" style="height: 90%; padding: 8px;" id="example-{{name}}" value="{{name}}"
                data-example-name="{{name}}">
                <input type="text" value="{{example.image_name}}" class="d-none image-name" />
                <input type="text" value="{{example.repo_url}}" class="d-none repo-url" />
                <input type="text" value="{{example.path}}" class="d-none image-path" />
                <img style="height: 60%; width: 100%; object-fit: contain;" src="{{example.image_url}}" />
                <div style="height: 40%; overflow: hidden;">
                  <h4 style="margin-top: .5rem; text-overflow: ellipsis; overflow: hidden; white-space: nowrap;">{{
                    example.title }}</h4>
                  <p>{{ example.description }}</p>
                </div>
              </div>
              <div style="height: 10%;">
                <a style="height: 100%; width: 100%; color: #333;" href="{{example.repo_url}}" target="_blank"
                  type="button" class="btn btn-light">Source</a>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>

      </form>
    </div>
  </div>
</main>
{% endblock %}

{% block footer %}
<footer class="footer content-fluid neurolang-blue">
  <div class="container">
    <span>Built with
      <a href="https://github.com/voila-dashboards/voila">Voil√†</a>,
      <a href="https://github.com/jupyter-widgets/ipywidgets">ipywidgets</a> and
      <a href="https://tljh.jupyter.org">The Littlest JupyterHub</a>
    </span>
  </div>
</footer>
{% endblock %}

{% block script %}
{{ super() }}
<script type="text/javascript">
  require(["{{ base_url }}environments-static/js/gallery.js"]);
</script>
{% endblock %}